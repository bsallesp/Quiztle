@using Quiztle.Frontend.Client.APIServices.StripeService

<div class="container bg-fx">
    <img src="img/courses/@Image"/>

    <div class="card-title text-center">
        @Title
    </div>

    <div class="questions-container">
        <div class="questions-amount">
            @QuestionsAmount
        </div>
        <div class="questions-literal">
            questions
        </div>
    </div>

    <div class="card-description">
        @foreach (var item in Contents)
        {
            <div class="transparent-chip">
                @item
            </div>
        }
    </div>

    <form method="post" @onsubmit="PlayGame" @formname="@TestId">
        <AntiforgeryToken/>
        <div
            style="padding: 20px;
            width: 100%;
                border-radius: 10px;"
            class="text-center">
            <button
                style="padding: 20px;
                border-radius: 10px;
                width: 100%;
                display: flex;
                align-items: center;
                justify-content: center;"
                class="btn-primary"
                type="submit">
                <h2 style="margin: 0;">
                    PLAY NOW
                </h2>
            </button>

        </div>
    </form>

    <div class="crown">
        <img src="svg/courses/crown.svg"/>
    </div>
</div>

@code {
    [Parameter] public required string Image { get; set; }

    [Parameter] public required string Title { get; set; }

    [Parameter] public required int QuestionsAmount { get; set; }

    [Parameter] public required string[] Contents { get; set; }

    [Parameter] public required string PriceId { get; set; }

    [Parameter] public required bool Enabled { get; set; }

    [Parameter] public required string TestId { get; set; }

    private void PlayGame()
    {
        Nav.NavigateTo($"/Games/Arcade/{TestId}", true);
    }

    protected override Task OnParametersSetAsync()
    {
        return base.OnParametersSetAsync();
    }

}